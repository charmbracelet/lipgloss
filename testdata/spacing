text
hello
world
----
ok

# Show height fill.
set
width: 10;
height: 4
----
helloÂ·Â·Â·Â·Â·â¤
worldÂ·Â·Â·Â·Â·â¤
Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·â¤
Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ğŸ›‡

# Data wider than style: the style does wrapping.
set
width: 3;
----
helâ¤
loÂ·â¤
worâ¤
ldÂ·ğŸ›‡

# Data taller than style.
# All lines in the input are rendered.
set
width: 10;
height: 1
----
helloÂ·Â·Â·Â·Â·â¤
worldÂ·Â·Â·Â·Â·ğŸ›‡

# Data both wider and taller than style.
# All lines in the input are rendered with wrapping.
set
width: 3;
height: 1
----
helâ¤
loÂ·â¤
worâ¤
ldÂ·ğŸ›‡

# Data wider than max width: data gets truncated.
# Render not wider than max width.
set
clear;
width: 10;
height: 4;
max-width: 3;
----
helâ¤
worâ¤
Â·Â·Â·â¤
Â·Â·Â·ğŸ›‡

# Data taller than max height: data gets truncated.
# Render not taller than max height.
set
clear;
width: 10;
height: 4;
max-height: 3;
----
helloÂ·Â·Â·Â·Â·â¤
worldÂ·Â·Â·Â·Â·â¤
Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ğŸ›‡

set
max-height: 1
----
helloÂ·Â·Â·Â·Â·ğŸ›‡

# If max-weight is larger than height,
# and the input is smaller than height,
# we don't get padding.
set
clear;
height: 2;
max-height: 4
----
helloâ¤
worldğŸ›‡

# If we get wrapping due to limited width
# max-height applies after the wrapping.
set
height: unset;
width: 3;
max-height: 3;
----
helâ¤
loÂ·â¤
worğŸ›‡

subtest padding

set
clear; border: normal;
padding: 2;
----
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â¤
â”‚Â·Â·Â·Â·Â·Â·Â·Â·Â·â”‚â¤
â”‚Â·Â·Â·Â·Â·Â·Â·Â·Â·â”‚â¤
â”‚Â·Â·helloÂ·Â·â”‚â¤
â”‚Â·Â·worldÂ·Â·â”‚â¤
â”‚Â·Â·Â·Â·Â·Â·Â·Â·Â·â”‚â¤
â”‚Â·Â·Â·Â·Â·Â·Â·Â·Â·â”‚â¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ğŸ›‡

set
clear; border: normal;
padding: 1 2 3 4;
----
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â¤
â”‚Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·â”‚â¤
â”‚Â·Â·Â·Â·helloÂ·Â·â”‚â¤
â”‚Â·Â·Â·Â·worldÂ·Â·â”‚â¤
â”‚Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·â”‚â¤
â”‚Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·â”‚â¤
â”‚Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·â”‚â¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ğŸ›‡

set
clear; border: normal;
padding: 2 0 0 0;
----
â”Œâ”€â”€â”€â”€â”€â”â¤
â”‚Â·Â·Â·Â·Â·â”‚â¤
â”‚Â·Â·Â·Â·Â·â”‚â¤
â”‚helloâ”‚â¤
â”‚worldâ”‚â¤
â””â”€â”€â”€â”€â”€â”˜ğŸ›‡

set
clear; border: normal;
padding: 0 2 0 0;
----
â”Œâ”€â”€â”€â”€â”€â”€â”€â”â¤
â”‚helloÂ·Â·â”‚â¤
â”‚worldÂ·Â·â”‚â¤
â””â”€â”€â”€â”€â”€â”€â”€â”˜ğŸ›‡

set
clear; border: normal;
padding: 0 0 2 0;
----
â”Œâ”€â”€â”€â”€â”€â”â¤
â”‚helloâ”‚â¤
â”‚worldâ”‚â¤
â”‚Â·Â·Â·Â·Â·â”‚â¤
â”‚Â·Â·Â·Â·Â·â”‚â¤
â””â”€â”€â”€â”€â”€â”˜ğŸ›‡

set
clear; border: normal;
padding: 0 0 0 2;
----
â”Œâ”€â”€â”€â”€â”€â”€â”€â”â¤
â”‚Â·Â·helloâ”‚â¤
â”‚Â·Â·worldâ”‚â¤
â””â”€â”€â”€â”€â”€â”€â”€â”˜ğŸ›‡

subtest end

subtest margin

set
clear; border: normal;
margin: 2;
----
Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·â¤
Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·â¤
Â·Â·â”Œâ”€â”€â”€â”€â”€â”Â·Â·â¤
Â·Â·â”‚helloâ”‚Â·Â·â¤
Â·Â·â”‚worldâ”‚Â·Â·â¤
Â·Â·â””â”€â”€â”€â”€â”€â”˜Â·Â·â¤
Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·â¤
Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ğŸ›‡

set
clear; border: normal;
margin: 1 2 3 4;
----
Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·â¤
Â·Â·Â·Â·â”Œâ”€â”€â”€â”€â”€â”Â·Â·â¤
Â·Â·Â·Â·â”‚helloâ”‚Â·Â·â¤
Â·Â·Â·Â·â”‚worldâ”‚Â·Â·â¤
Â·Â·Â·Â·â””â”€â”€â”€â”€â”€â”˜Â·Â·â¤
Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·â¤
Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·â¤
Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ğŸ›‡

set
clear; border: normal;
margin: 2 0 0 0;
----
Â·Â·Â·Â·Â·Â·Â·â¤
Â·Â·Â·Â·Â·Â·Â·â¤
â”Œâ”€â”€â”€â”€â”€â”â¤
â”‚helloâ”‚â¤
â”‚worldâ”‚â¤
â””â”€â”€â”€â”€â”€â”˜ğŸ›‡

set
clear; border: normal;
margin: 0 2 0 0;
----
â”Œâ”€â”€â”€â”€â”€â”Â·Â·â¤
â”‚helloâ”‚Â·Â·â¤
â”‚worldâ”‚Â·Â·â¤
â””â”€â”€â”€â”€â”€â”˜Â·Â·ğŸ›‡

set
clear; border: normal;
margin: 0 0 2 0;
----
â”Œâ”€â”€â”€â”€â”€â”â¤
â”‚helloâ”‚â¤
â”‚worldâ”‚â¤
â””â”€â”€â”€â”€â”€â”˜â¤
Â·Â·Â·Â·Â·Â·Â·â¤
Â·Â·Â·Â·Â·Â·Â·ğŸ›‡

set
clear; border: normal;
margin: 0 0 0 2;
----
Â·Â·â”Œâ”€â”€â”€â”€â”€â”â¤
Â·Â·â”‚helloâ”‚â¤
Â·Â·â”‚worldâ”‚â¤
Â·Â·â””â”€â”€â”€â”€â”€â”˜ğŸ›‡

# Rendering bug?
# See: https://github.com/charmbracelet/lipgloss/issues/115
set
clear; border: normal;
margin: 1;
margin-background: #0f0
----
[48;2;0;255;0mÂ·Â·Â·Â·Â·Â·Â·Â·Â·â¤
[0m[48;2;0;255;0mÂ·[0mâ”Œâ”€â”€â”€â”€â”€â”[48;2;0;255;0mÂ·[0mâ¤
[48;2;0;255;0mÂ·[0mâ”‚helloâ”‚[48;2;0;255;0mÂ·[0mâ¤
[48;2;0;255;0mÂ·[0mâ”‚worldâ”‚[48;2;0;255;0mÂ·[0mâ¤
[48;2;0;255;0mÂ·[0mâ””â”€â”€â”€â”€â”€â”˜[48;2;0;255;0mÂ·[0m[48;2;0;255;0mâ¤
Â·Â·Â·Â·Â·Â·Â·Â·Â·[0mğŸ›‡

subtest end
