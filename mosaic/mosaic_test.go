package mosaic

import (
	"image"
	"image/png"
	"os"
	"reflect"
	"testing"
)

func TestRender(t *testing.T) {
	raw, err := loadImage("./fixtures/charm-wish.png")
	if err != nil {
		os.Exit(1)
	}

	// Create options
	var mosaic = New()

	result := mosaic.Render(raw)

	// TODO: Use a smaller image, it is almost impossible seeing the diff by now
	expected := `[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;127;105;117;48;2;0;0;0mâ–„[m[38;2;254;210;233;48;2;1;0;1mâ–„[m[38;2;254;210;233;48;2;112;92;103mâ–„[m[38;2;254;210;234;48;2;111;92;102mâ–„[m[38;2;182;150;168;48;2;0;0;0mâ–„[m[38;2;0;0;0;48;2;27;22;25m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m
[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;127;105;115;48;2;126;104;113mâ–€[m[38;2;253;208;228;48;2;0;0;0mâ–ˆ[m[38;2;253;207;226;48;2;0;0;0mâ–ˆ[m[38;2;253;206;226;48;2;0;0;0mâ–ˆ[m[38;2;253;205;228;48;2;0;0;0mâ–ˆ[m[38;2;127;104;116;48;2;126;101;113mâ–€[m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;127;105;117;48;2;0;0;0mâ–„[m[38;2;254;210;234;48;2;0;0;0mâ–„[m[38;2;127;105;117;48;2;0;0;0mâ–„[m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m
[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;126;102;111;48;2;104;82;91mâ–€[m[38;2;240;192;209;48;2;0;0;0mâ–ˆ[m[38;2;251;199;215;48;2;0;0;0mâ–ˆ[m[38;2;251;196;215;48;2;0;0;0mâ–ˆ[m[38;2;240;186;209;48;2;0;0;0mâ–ˆ[m[38;2;126;99;112;48;2;102;79;90mâ–€[m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;126;101;112;48;2;0;0;0mâ–„[m[38;2;252;204;225;48;2;127;104;115mâ–„[m[38;2;253;207;229;48;2;0;0;0mâ–ˆ[m[38;2;254;208;231;48;2;0;0;0mâ–ˆ[m[38;2;254;208;233;48;2;0;0;0mâ–ˆ[m[38;2;127;105;117;48;2;127;103;116mâ–€[m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m
[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;127;124;85;48;2;0;0;0mâ–„[m[38;2;254;249;169;48;2;54;53;36mâ–„[m[38;2;254;247;168;48;2;54;53;36mâ–„[m[38;2;127;123;84;48;2;0;0;0mâ–„[m[38;2;0;0;0;48;2;26;19;22m [m[38;2;0;0;0;48;2;26;19;22m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;14;11;13m [m[38;2;156;126;142;48;2;0;0;0mâ–„[m[38;2;254;207;232;48;2;0;0;0mâ–„[m[38;2;254;207;232;48;2;0;0;0mâ–„[m[38;2;254;206;232;48;2;0;0;0mâ–„[m[38;2;127;103;116;48;2;0;0;0mâ–„[m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;126;97;108;48;2;67;49;56mâ–€[m[38;2;252;197;218;48;2;192;145;163mâ–€[m[38;2;251;197;218;48;2;0;0;0mâ–ˆ[m[38;2;252;198;222;48;2;0;0;0mâ–ˆ[m[38;2;253;199;226;48;2;0;0;0mâ–ˆ[m[38;2;127;102;115;48;2;127;99;113mâ–€[m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m
[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;127;125;85;48;2;126;125;85mâ–€[m[38;2;253;249;170;48;2;0;0;0mâ–ˆ[m[38;2;253;249;170;48;2;0;0;0mâ–ˆ[m[38;2;253;248;169;48;2;0;0;0mâ–ˆ[m[38;2;252;246;168;48;2;0;0;0mâ–ˆ[m[38;2;126;122;83;48;2;188;181;124mâ–€[m[38;2;0;0;0;48;2;31;29;20m [m[38;2;127;100;111;48;2;0;0;0mâ–„[m[38;2;254;201;221;48;2;127;101;113mâ–„[m[38;2;254;203;223;48;2;0;0;0mâ–ˆ[m[38;2;254;204;225;48;2;0;0;0mâ–ˆ[m[38;2;254;204;226;48;2;0;0;0mâ–ˆ[m[38;2;253;204;228;48;2;0;0;0mâ–ˆ[m[38;2;254;204;229;48;2;0;0;0mâ–ˆ[m[38;2;254;203;230;48;2;0;0;0mâ–ˆ[m[38;2;253;202;229;48;2;0;0;0mâ–ˆ[m[38;2;253;198;226;48;2;126;101;114mâ–„[m[38;2;126;98;112;48;2;0;0;0mâ–„[m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;28;20;23m [m[38;2;183;133;153;48;2;0;0;0mâ–€[m[38;2;252;187;216;48;2;0;0;0mâ–€[m[38;2;127;95;110;48;2;0;0;0mâ–€[m[38;2;126;99;110;48;2;0;0;0mâ–„[m[38;2;253;201;224;48;2;88;70;79mâ–„[m[38;2;254;203;229;48;2;88;70;79mâ–„[m[38;2;127;102;115;48;2;0;0;0mâ–„[m
[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;33;27;30m [m[38;2;193;156;175;48;2;0;0;0mâ–„[m[38;2;254;203;228;48;2;0;0;0mâ–„[m[38;2;251;226;200;48;2;125;124;86mâ–„[m[38;2;249;249;172;48;2;0;0;0mâ–ˆ[m[38;2;249;249;171;48;2;0;0;0mâ–ˆ[m[38;2;249;249;171;48;2;0;0;0mâ–ˆ[m[38;2;249;249;171;48;2;0;0;0mâ–ˆ[m[38;2;249;248;170;48;2;0;0;0mâ–ˆ[m[38;2;250;246;169;48;2;0;0;0mâ–ˆ[m[38;2;225;206;163;48;2;0;0;0mâ–ˆ[m[38;2;225;181;181;48;2;0;0;0mâ–ˆ[m[38;2;251;194;203;48;2;0;0;0mâ–ˆ[m[38;2;250;195;205;48;2;0;0;0mâ–ˆ[m[38;2;250;197;209;48;2;0;0;0mâ–ˆ[m[38;2;251;198;214;48;2;0;0;0mâ–ˆ[m[38;2;252;200;218;48;2;0;0;0mâ–ˆ[m[38;2;253;200;221;48;2;0;0;0mâ–ˆ[m[38;2;253;200;223;48;2;0;0;0mâ–ˆ[m[38;2;253;199;225;48;2;0;0;0mâ–ˆ[m[38;2;253;197;225;48;2;0;0;0mâ–ˆ[m[38;2;253;194;223;48;2;127;98;113mâ–„[m[38;2;127;96;111;48;2;0;0;0mâ–„[m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;125;97;108;48;2;52;37;43mâ–€[m[38;2;252;197;220;48;2;178;134;152mâ–€[m[38;2;253;198;224;48;2;0;0;0mâ–ˆ[m[38;2;127;101;114;48;2;127;98;112mâ–€[m
[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;127;102;115;48;2;127;100;113mâ–€[m[38;2;253;202;226;48;2;0;0;0mâ–ˆ[m[38;2;250;213;211;48;2;0;0;0mâ–ˆ[m[38;2;246;237;186;48;2;0;0;0mâ–ˆ[m[38;2;244;249;173;48;2;0;0;0mâ–ˆ[m[38;2;244;249;174;48;2;0;0;0mâ–ˆ[m[38;2;244;250;174;48;2;0;0;0mâ–ˆ[m[38;2;244;250;173;48;2;0;0;0mâ–ˆ[m[38;2;244;249;173;48;2;0;0;0mâ–ˆ[m[38;2;245;249;173;48;2;0;0;0mâ–ˆ[m[38;2;245;249;173;48;2;0;0;0mâ–ˆ[m[38;2;245;248;171;48;2;0;0;0mâ–ˆ[m[38;2;245;230;173;48;2;0;0;0mâ–ˆ[m[38;2;242;196;177;48;2;0;0;0mâ–ˆ[m[38;2;242;181;181;48;2;0;0;0mâ–ˆ[m[38;2;244;185;188;48;2;0;0;0mâ–ˆ[m[38;2;245;188;196;48;2;0;0;0mâ–ˆ[m[38;2;247;190;203;48;2;0;0;0mâ–ˆ[m[38;2;248;191;209;48;2;0;0;0mâ–ˆ[m[38;2;250;192;213;48;2;0;0;0mâ–ˆ[m[38;2;251;193;216;48;2;0;0;0mâ–ˆ[m[38;2;252;192;218;48;2;0;0;0mâ–ˆ[m[38;2;253;191;221;48;2;0;0;0mâ–ˆ[m[38;2;254;191;222;48;2;126;95;111mâ–„[m[38;2;218;162;189;48;2;0;0;0mâ–„[m[38;2;217;162;188;48;2;0;0;0mâ–„[m[38;2;253;190;220;48;2;0;0;0mâ–„[m[38;2;254;191;221;48;2;0;0;0mâ–„[m[38;2;254;190;221;48;2;0;0;0mâ–„[m[38;2;127;94;110;48;2;0;0;0mâ–„[m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m
[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;127;100;114;48;2;127;99;113mâ–€[m[38;2;249;211;213;48;2;0;0;0mâ–ˆ[m[38;2;243;228;194;48;2;0;0;0mâ–ˆ[m[38;2;240;241;183;48;2;0;0;0mâ–ˆ[m[38;2;239;250;176;48;2;0;0;0mâ–ˆ[m[38;2;239;250;176;48;2;0;0;0mâ–ˆ[m[38;2;239;250;176;48;2;0;0;0mâ–ˆ[m[38;2;239;250;176;48;2;0;0;0mâ–ˆ[m[38;2;239;250;176;48;2;0;0;0mâ–ˆ[m[38;2;239;250;176;48;2;0;0;0mâ–ˆ[m[38;2;239;250;176;48;2;0;0;0mâ–ˆ[m[38;2;239;250;175;48;2;0;0;0mâ–ˆ[m[38;2;239;250;175;48;2;0;0;0mâ–ˆ[m[38;2;240;250;175;48;2;0;0;0mâ–ˆ[m[38;2;240;249;174;48;2;0;0;0mâ–ˆ[m[38;2;239;229;173;48;2;0;0;0mâ–ˆ[m[38;2;237;211;174;48;2;0;0;0mâ–ˆ[m[38;2;239;211;177;48;2;0;0;0mâ–ˆ[m[38;2;239;194;184;48;2;0;0;0mâ–ˆ[m[38;2;241;179;192;48;2;0;0;0mâ–ˆ[m[38;2;243;181;198;48;2;0;0;0mâ–ˆ[m[38;2;245;183;203;48;2;0;0;0mâ–ˆ[m[38;2;247;185;207;48;2;0;0;0mâ–ˆ[m[38;2;249;187;210;48;2;0;0;0mâ–ˆ[m[38;2;250;186;210;48;2;0;0;0mâ–ˆ[m[38;2;250;188;212;48;2;0;0;0mâ–ˆ[m[38;2;251;190;215;48;2;0;0;0mâ–ˆ[m[38;2;252;192;218;48;2;0;0;0mâ–ˆ[m[38;2;253;193;221;48;2;0;0;0mâ–ˆ[m[38;2;253;192;222;48;2;0;0;0mâ–ˆ[m[38;2;253;191;222;48;2;0;0;0mâ–ˆ[m[38;2;254;192;224;48;2;191;143;167mâ–„[m[38;2;136;102;120;48;2;64;48;56mâ–„[m[38;2;0;0;0;48;2;4;3;4m [m
[38;2;0;0;0;48;2;0;0;0m [m[38;2;115;125;90;48;2;0;0;0mâ–„[m[38;2;230;251;180;48;2;0;0;0mâ–„[m[38;2;230;251;180;48;2;34;36;26mâ–„[m[38;2;230;250;180;48;2;151;162;115mâ–„[m[38;2;232;250;179;48;2;0;0;0mâ–ˆ[m[38;2;232;251;179;48;2;0;0;0mâ–ˆ[m[38;2;232;251;179;48;2;0;0;0mâ–ˆ[m[38;2;232;251;179;48;2;0;0;0mâ–ˆ[m[38;2;232;250;179;48;2;0;0;0mâ–ˆ[m[38;2;233;250;179;48;2;0;0;0mâ–ˆ[m[38;2;233;250;178;48;2;0;0;0mâ–ˆ[m[38;2;233;250;178;48;2;0;0;0mâ–ˆ[m[38;2;233;251;178;48;2;0;0;0mâ–ˆ[m[38;2;233;250;178;48;2;0;0;0mâ–ˆ[m[38;2;234;250;178;48;2;0;0;0mâ–ˆ[m[38;2;234;250;178;48;2;0;0;0mâ–ˆ[m[38;2;234;250;178;48;2;0;0;0mâ–ˆ[m[38;2;234;251;178;48;2;0;0;0mâ–ˆ[m[38;2;235;250;178;48;2;0;0;0mâ–ˆ[m[38;2;235;250;178;48;2;0;0;0mâ–ˆ[m[38;2;235;250;178;48;2;0;0;0mâ–ˆ[m[38;2;235;250;178;48;2;0;0;0mâ–ˆ[m[38;2;235;250;177;48;2;0;0;0mâ–ˆ[m[38;2;236;250;177;48;2;0;0;0mâ–ˆ[m[38;2;236;250;177;48;2;0;0;0mâ–ˆ[m[38;2;237;248;177;48;2;0;0;0mâ–ˆ[m[38;2;238;229;182;48;2;0;0;0mâ–ˆ[m[38;2;242;196;192;48;2;0;0;0mâ–ˆ[m[38;2;246;182;202;48;2;0;0;0mâ–ˆ[m[38;2;248;186;209;48;2;0;0;0mâ–ˆ[m[38;2;250;188;214;48;2;0;0;0mâ–ˆ[m[38;2;252;190;218;48;2;0;0;0mâ–ˆ[m[38;2;253;191;221;48;2;0;0;0mâ–ˆ[m[38;2;254;191;222;48;2;0;0;0mâ–ˆ[m[38;2;254;191;223;48;2;0;0;0mâ–ˆ[m[38;2;254;191;223;48;2;0;0;0mâ–ˆ[m[38;2;127;96;112;48;2;127;95;112mâ–€[m
[38;2;193;214;155;48;2;111;125;91mâ–€[m[38;2;224;251;182;48;2;0;0;0mâ–ˆ[m[38;2;224;251;182;48;2;0;0;0mâ–ˆ[m[38;2;224;251;182;48;2;0;0;0mâ–ˆ[m[38;2;225;251;182;48;2;0;0;0mâ–ˆ[m[38;2;211;234;171;48;2;0;0;0mâ–ˆ[m[38;2;211;234;171;48;2;0;0;0mâ–ˆ[m[38;2;225;251;181;48;2;0;0;0mâ–ˆ[m[38;2;225;251;181;48;2;0;0;0mâ–ˆ[m[38;2;225;251;181;48;2;0;0;0mâ–ˆ[m[38;2;226;251;181;48;2;0;0;0mâ–ˆ[m[38;2;226;251;181;48;2;0;0;0mâ–ˆ[m[38;2;227;251;181;48;2;0;0;0mâ–ˆ[m[38;2;228;251;180;48;2;137;150;115mâ–€[m[38;2;228;251;180;48;2;137;150;115mâ–€[m[38;2;227;251;181;48;2;0;0;0mâ–ˆ[m[38;2;227;251;181;48;2;0;0;0mâ–ˆ[m[38;2;228;251;181;48;2;0;0;0mâ–ˆ[m[38;2;228;251;181;48;2;0;0;0mâ–ˆ[m[38;2;228;251;180;48;2;0;0;0mâ–ˆ[m[38;2;228;251;180;48;2;0;0;0mâ–ˆ[m[38;2;229;251;180;48;2;0;0;0mâ–ˆ[m[38;2;229;251;180;48;2;0;0;0mâ–ˆ[m[38;2;229;251;180;48;2;0;0;0mâ–ˆ[m[38;2;229;251;180;48;2;0;0;0mâ–ˆ[m[38;2;229;250;179;48;2;0;0;0mâ–ˆ[m[38;2;230;248;178;48;2;0;0;0mâ–ˆ[m[38;2;234;209;183;48;2;0;0;0mâ–ˆ[m[38;2;239;173;191;48;2;0;0;0mâ–ˆ[m[38;2;241;177;197;48;2;0;0;0mâ–ˆ[m[38;2;245;181;204;48;2;0;0;0mâ–ˆ[m[38;2;248;185;210;48;2;0;0;0mâ–ˆ[m[38;2;250;186;215;48;2;0;0;0mâ–ˆ[m[38;2;252;187;218;48;2;0;0;0mâ–ˆ[m[38;2;254;188;220;48;2;0;0;0mâ–ˆ[m[38;2;254;188;221;48;2;0;0;0mâ–ˆ[m[38;2;254;188;222;48;2;0;0;0mâ–ˆ[m[38;2;127;95;111;48;2;127;94;111mâ–€[m
[38;2;109;126;92;48;2;0;0;0mâ–€[m[38;2;218;252;185;48;2;107;126;93mâ–€[m[38;2;216;252;185;48;2;0;0;0mâ–ˆ[m[38;2;216;252;185;48;2;0;0;0mâ–ˆ[m[38;2;217;252;185;48;2;0;0;0mâ–ˆ[m[38;2;134;151;117;48;2;132;151;117mâ–€[m[38;2;134;151;116;48;2;132;151;117mâ–€[m[38;2;218;252;184;48;2;0;0;0mâ–ˆ[m[38;2;218;251;184;48;2;0;0;0mâ–ˆ[m[38;2;218;251;184;48;2;0;0;0mâ–ˆ[m[38;2;218;252;184;48;2;0;0;0mâ–ˆ[m[38;2;218;251;184;48;2;0;0;0mâ–ˆ[m[38;2;219;251;184;48;2;0;0;0mâ–ˆ[m[38;2;135;150;116;48;2;133;150;117mâ–€[m[38;2;136;150;116;48;2;133;150;117mâ–€[m[38;2;220;251;183;48;2;0;0;0mâ–ˆ[m[38;2;220;251;183;48;2;0;0;0mâ–ˆ[m[38;2;220;251;183;48;2;0;0;0mâ–ˆ[m[38;2;221;251;183;48;2;0;0;0mâ–ˆ[m[38;2;221;251;183;48;2;0;0;0mâ–ˆ[m[38;2;222;251;183;48;2;0;0;0mâ–ˆ[m[38;2;222;251;183;48;2;0;0;0mâ–ˆ[m[38;2;222;251;183;48;2;0;0;0mâ–ˆ[m[38;2;222;251;183;48;2;0;0;0mâ–ˆ[m[38;2;222;249;181;48;2;0;0;0mâ–ˆ[m[38;2;225;226;180;48;2;0;0;0mâ–ˆ[m[38;2;233;187;184;48;2;0;0;0mâ–ˆ[m[38;2;238;170;191;48;2;0;0;0mâ–ˆ[m[38;2;241;173;195;48;2;0;0;0mâ–ˆ[m[38;2;242;176;200;48;2;0;0;0mâ–ˆ[m[38;2;244;179;204;48;2;0;0;0mâ–ˆ[m[38;2;246;181;208;48;2;0;0;0mâ–ˆ[m[38;2;249;183;213;48;2;0;0;0mâ–ˆ[m[38;2;252;184;216;48;2;0;0;0mâ–ˆ[m[38;2;253;185;219;48;2;0;0;0mâ–ˆ[m[38;2;254;185;220;48;2;0;0;0mâ–ˆ[m[38;2;254;186;220;48;2;172;124;149mâ–€[m[38;2;127;93;110;48;2;44;32;39mâ–€[m
[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;14;16;12m [m[38;2;133;159;118;48;2;103;126;94mâ–€[m[38;2;216;237;187;48;2;0;0;0mâ–ˆ[m[38;2;216;237;187;48;2;0;0;0mâ–ˆ[m[38;2;206;252;188;48;2;130;150;118mâ–„[m[38;2;207;252;188;48;2;131;151;118mâ–„[m[38;2;209;252;187;48;2;0;0;0mâ–ˆ[m[38;2;210;252;187;48;2;0;0;0mâ–ˆ[m[38;2;210;252;187;48;2;0;0;0mâ–ˆ[m[38;2;211;252;187;48;2;0;0;0mâ–ˆ[m[38;2;211;252;187;48;2;0;0;0mâ–ˆ[m[38;2;211;252;187;48;2;0;0;0mâ–ˆ[m[38;2;210;252;187;48;2;131;151;118mâ–„[m[38;2;210;252;187;48;2;132;151;118mâ–„[m[38;2;223;229;186;48;2;0;0;0mâ–ˆ[m[38;2;224;229;186;48;2;0;0;0mâ–ˆ[m[38;2;213;252;186;48;2;0;0;0mâ–ˆ[m[38;2;213;252;186;48;2;0;0;0mâ–ˆ[m[38;2;214;252;186;48;2;0;0;0mâ–ˆ[m[38;2;214;252;186;48;2;0;0;0mâ–ˆ[m[38;2;214;252;185;48;2;0;0;0mâ–ˆ[m[38;2;214;251;184;48;2;0;0;0mâ–ˆ[m[38;2;213;249;183;48;2;0;0;0mâ–ˆ[m[38;2;218;205;177;48;2;0;0;0mâ–ˆ[m[38;2;228;164;178;48;2;0;0;0mâ–ˆ[m[38;2;237;168;190;48;2;0;0;0mâ–ˆ[m[38;2;243;173;199;48;2;0;0;0mâ–ˆ[m[38;2;247;176;204;48;2;0;0;0mâ–ˆ[m[38;2;248;177;208;48;2;0;0;0mâ–ˆ[m[38;2;250;178;210;48;2;0;0;0mâ–ˆ[m[38;2;250;179;212;48;2;0;0;0mâ–ˆ[m[38;2;252;179;214;48;2;0;0;0mâ–ˆ[m[38;2;253;179;215;48;2;0;0;0mâ–ˆ[m[38;2;254;181;217;48;2;129;90;110mâ–€[m[38;2;248;176;212;48;2;2;2;2mâ–€[m[38;2;121;86;104;48;2;0;0;0mâ–€[m[38;2;0;0;0;48;2;0;0;0m [m
[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;3;4;3m [m[38;2;134;90;100;48;2;99;126;95mâ–€[m[38;2;213;231;190;48;2;0;0;0mâ–ˆ[m[38;2;200;253;190;48;2;0;0;0mâ–ˆ[m[38;2;201;252;190;48;2;0;0;0mâ–ˆ[m[38;2;201;252;190;48;2;0;0;0mâ–ˆ[m[38;2;214;214;166;48;2;0;0;0mâ–ˆ[m[38;2;237;151;124;48;2;0;0;0mâ–ˆ[m[38;2;224;189;149;48;2;0;0;0mâ–ˆ[m[38;2;203;252;189;48;2;0;0;0mâ–ˆ[m[38;2;203;252;189;48;2;0;0;0mâ–ˆ[m[38;2;204;252;189;48;2;0;0;0mâ–ˆ[m[38;2;204;252;189;48;2;0;0;0mâ–ˆ[m[38;2;217;229;189;48;2;0;0;0mâ–ˆ[m[38;2;217;229;189;48;2;0;0;0mâ–ˆ[m[38;2;205;252;189;48;2;0;0;0mâ–ˆ[m[38;2;205;252;188;48;2;0;0;0mâ–ˆ[m[38;2;206;252;188;48;2;0;0;0mâ–ˆ[m[38;2;206;252;188;48;2;0;0;0mâ–ˆ[m[38;2;206;251;187;48;2;0;0;0mâ–ˆ[m[38;2;206;249;185;48;2;0;0;0mâ–ˆ[m[38;2;209;200;174;48;2;0;0;0mâ–ˆ[m[38;2;219;158;172;48;2;0;0;0mâ–ˆ[m[38;2;230;166;186;48;2;0;0;0mâ–ˆ[m[38;2;239;171;196;48;2;0;0;0mâ–ˆ[m[38;2;245;174;204;48;2;0;0;0mâ–ˆ[m[38;2;250;176;209;48;2;0;0;0mâ–ˆ[m[38;2;252;177;212;48;2;0;0;0mâ–ˆ[m[38;2;253;177;214;48;2;0;0;0mâ–ˆ[m[38;2;254;176;214;48;2;0;0;0mâ–ˆ[m[38;2;254;175;214;48;2;127;87;107mâ–€[m[38;2;127;87;106;48;2;0;0;0mâ–€[m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m
[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;97;127;96;48;2;94;127;97mâ–€[m[38;2;191;253;193;48;2;0;0;0mâ–ˆ[m[38;2;192;253;192;48;2;0;0;0mâ–ˆ[m[38;2;192;253;192;48;2;0;0;0mâ–ˆ[m[38;2;193;253;192;48;2;0;0;0mâ–ˆ[m[38;2;194;253;192;48;2;0;0;0mâ–ˆ[m[38;2;194;253;192;48;2;0;0;0mâ–ˆ[m[38;2;195;253;192;48;2;0;0;0mâ–ˆ[m[38;2;195;253;192;48;2;0;0;0mâ–ˆ[m[38;2;195;253;192;48;2;0;0;0mâ–ˆ[m[38;2;196;253;192;48;2;0;0;0mâ–ˆ[m[38;2;196;253;191;48;2;0;0;0mâ–ˆ[m[38;2;196;252;191;48;2;0;0;0mâ–ˆ[m[38;2;197;253;191;48;2;0;0;0mâ–ˆ[m[38;2;197;252;191;48;2;0;0;0mâ–ˆ[m[38;2;198;252;191;48;2;0;0;0mâ–ˆ[m[38;2;198;252;191;48;2;0;0;0mâ–ˆ[m[38;2;198;252;190;48;2;0;0;0mâ–ˆ[m[38;2;197;250;189;48;2;0;0;0mâ–ˆ[m[38;2;199;202;175;48;2;0;0;0mâ–ˆ[m[38;2;209;157;169;48;2;0;0;0mâ–ˆ[m[38;2;223;163;182;48;2;0;0;0mâ–ˆ[m[38;2;233;169;194;48;2;0;0;0mâ–ˆ[m[38;2;241;172;201;48;2;0;0;0mâ–ˆ[m[38;2;247;174;207;48;2;0;0;0mâ–ˆ[m[38;2;251;175;211;48;2;0;0;0mâ–ˆ[m[38;2;253;175;213;48;2;0;0;0mâ–ˆ[m[38;2;254;175;214;48;2;0;0;0mâ–ˆ[m[38;2;254;173;213;48;2;172;116;144mâ–€[m[38;2;127;86;105;48;2;45;29;37mâ–€[m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m
[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;92;126;97;48;2;90;126;98mâ–€[m[38;2;182;253;195;48;2;0;0;0mâ–ˆ[m[38;2;184;253;195;48;2;0;0;0mâ–ˆ[m[38;2;184;253;195;48;2;0;0;0mâ–ˆ[m[38;2;185;253;195;48;2;0;0;0mâ–ˆ[m[38;2;185;254;195;48;2;0;0;0mâ–ˆ[m[38;2;186;253;195;48;2;0;0;0mâ–ˆ[m[38;2;186;253;195;48;2;0;0;0mâ–ˆ[m[38;2;187;253;194;48;2;0;0;0mâ–ˆ[m[38;2;188;253;194;48;2;0;0;0mâ–ˆ[m[38;2;188;253;194;48;2;0;0;0mâ–ˆ[m[38;2;188;253;194;48;2;0;0;0mâ–ˆ[m[38;2;189;253;194;48;2;0;0;0mâ–ˆ[m[38;2;189;253;194;48;2;0;0;0mâ–ˆ[m[38;2;189;253;194;48;2;0;0;0mâ–ˆ[m[38;2;190;253;193;48;2;0;0;0mâ–ˆ[m[38;2;190;252;193;48;2;0;0;0mâ–ˆ[m[38;2;190;252;192;48;2;0;0;0mâ–ˆ[m[38;2;189;250;191;48;2;0;0;0mâ–ˆ[m[38;2;203;205;186;48;2;0;0;0mâ–ˆ[m[38;2;221;163;185;48;2;0;0;0mâ–ˆ[m[38;2;229;167;192;48;2;0;0;0mâ–ˆ[m[38;2;237;169;199;48;2;0;0;0mâ–ˆ[m[38;2;244;171;205;48;2;0;0;0mâ–ˆ[m[38;2;249;173;209;48;2;0;0;0mâ–ˆ[m[38;2;252;173;211;48;2;0;0;0mâ–ˆ[m[38;2;253;173;212;48;2;0;0;0mâ–ˆ[m[38;2;254;172;213;48;2;127;85;106mâ–€[m[38;2;127;85;106;48;2;0;0;0mâ–€[m[38;2;126;72;96;48;2;0;0;0mâ–„[m[38;2;252;151;196;48;2;127;74;98mâ–„[m[38;2;253;157;201;48;2;0;0;0mâ–ˆ[m[38;2;253;166;207;48;2;126;80;101mâ–„[m[38;2;126;84;105;48;2;0;0;0mâ–„[m[38;2;0;0;0;48;2;0;0;0m [m
[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;88;127;99;48;2;87;127;99mâ–€[m[38;2;175;254;198;48;2;0;0;0mâ–ˆ[m[38;2;176;254;197;48;2;0;0;0mâ–ˆ[m[38;2;177;254;197;48;2;0;0;0mâ–ˆ[m[38;2;177;254;197;48;2;0;0;0mâ–ˆ[m[38;2;177;254;197;48;2;0;0;0mâ–ˆ[m[38;2;178;253;196;48;2;0;0;0mâ–ˆ[m[38;2;178;253;196;48;2;0;0;0mâ–ˆ[m[38;2;179;253;196;48;2;0;0;0mâ–ˆ[m[38;2;180;254;196;48;2;0;0;0mâ–ˆ[m[38;2;180;253;196;48;2;0;0;0mâ–ˆ[m[38;2;181;253;196;48;2;0;0;0mâ–ˆ[m[38;2;181;254;196;48;2;0;0;0mâ–ˆ[m[38;2;182;254;196;48;2;0;0;0mâ–ˆ[m[38;2;182;254;196;48;2;0;0;0mâ–ˆ[m[38;2;182;253;195;48;2;0;0;0mâ–ˆ[m[38;2;182;253;195;48;2;0;0;0mâ–ˆ[m[38;2;182;253;194;48;2;0;0;0mâ–ˆ[m[38;2;181;250;193;48;2;0;0;0mâ–ˆ[m[38;2;146;163;142;48;2;89;124;96mâ–€[m[38;2;173;123;146;48;2;0;0;0mâ–€[m[38;2;239;170;202;48;2;38;25;32mâ–€[m[38;2;243;170;204;48;2;163;111;137mâ–€[m[38;2;249;171;209;48;2;0;0;0mâ–ˆ[m[38;2;251;172;211;48;2;126;86;106mâ–€[m[38;2;253;171;212;48;2;0;0;0mâ–€[m[38;2;127;85;106;48;2;0;0;0mâ–€[m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;125;78;99;48;2;125;82;102mâ–€[m[38;2;250;163;203;48;2;0;0;0mâ–ˆ[m[38;2;251;168;207;48;2;0;0;0mâ–ˆ[m[38;2;253;171;211;48;2;0;0;0mâ–ˆ[m[38;2;201;136;168;48;2;127;85;106mâ–€[m[38;2;0;0;0;48;2;37;25;31m [m
[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;84;127;99;48;2;83;127;100mâ–€[m[38;2;168;254;199;48;2;0;0;0mâ–ˆ[m[38;2;169;254;199;48;2;0;0;0mâ–ˆ[m[38;2;169;254;199;48;2;0;0;0mâ–ˆ[m[38;2;170;254;198;48;2;0;0;0mâ–ˆ[m[38;2;170;254;198;48;2;0;0;0mâ–ˆ[m[38;2;170;253;198;48;2;0;0;0mâ–ˆ[m[38;2;170;253;198;48;2;0;0;0mâ–ˆ[m[38;2;171;254;198;48;2;0;0;0mâ–ˆ[m[38;2;172;254;198;48;2;0;0;0mâ–ˆ[m[38;2;172;254;198;48;2;0;0;0mâ–ˆ[m[38;2;173;254;197;48;2;0;0;0mâ–ˆ[m[38;2;174;253;197;48;2;0;0;0mâ–ˆ[m[38;2;174;254;198;48;2;0;0;0mâ–ˆ[m[38;2;175;254;198;48;2;0;0;0mâ–ˆ[m[38;2;175;254;197;48;2;0;0;0mâ–ˆ[m[38;2;175;254;197;48;2;0;0;0mâ–ˆ[m[38;2;175;253;197;48;2;0;0;0mâ–ˆ[m[38;2;174;251;195;48;2;0;0;0mâ–ˆ[m[38;2;87;125;97;48;2;86;125;97mâ–€[m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;105;71;88;48;2;0;0;0mâ–€[m[38;2;231;156;193;48;2;0;0;0mâ–€[m[38;2;160;108;133;48;2;0;0;0mâ–€[m[38;2;0;0;0;48;2;16;11;14m [m[38;2;0;0;0;48;2;0;0;0m [m
[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;82;127;100;48;2;81;127;100mâ–€[m[38;2;163;254;201;48;2;0;0;0mâ–ˆ[m[38;2;163;254;200;48;2;0;0;0mâ–ˆ[m[38;2;163;254;200;48;2;0;0;0mâ–ˆ[m[38;2;164;254;199;48;2;99;157;124mâ–€[m[38;2;164;254;199;48;2;19;30;24mâ–€[m[38;2;143;222;174;48;2;0;0;0mâ–€[m[38;2;61;95;74;48;2;0;0;0mâ–€[m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;82;125;97;48;2;0;0;0mâ–€[m[38;2;167;252;197;48;2;0;0;0mâ–€[m[38;2;169;254;199;48;2;83;127;99mâ–€[m[38;2;168;254;199;48;2;0;0;0mâ–ˆ[m[38;2;169;254;199;48;2;0;0;0mâ–ˆ[m[38;2;169;254;199;48;2;0;0;0mâ–ˆ[m[38;2;169;254;199;48;2;0;0;0mâ–ˆ[m[38;2;168;252;198;48;2;0;0;0mâ–ˆ[m[38;2;85;125;98;48;2;83;125;99mâ–€[m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m
[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;82;127;100;48;2;0;0;0mâ–€[m[38;2;165;254;200;48;2;0;0;0mâ–€[m[38;2;165;254;200;48;2;0;0;0mâ–€[m[38;2;165;253;200;48;2;0;0;0mâ–€[m[38;2;82;126;99;48;2;0;0;0mâ–€[m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m[38;2;0;0;0;48;2;0;0;0m [m
`

	if !reflect.DeepEqual(result, expected) {
		t.Errorf("Result and expected does not match = %v, want %v", result, expected)
	}

	// fmt.Println(result)
}

func loadImage(path string) (image.Image, error) {
	f, err := os.Open(path)
	if err != nil {
		return nil, err
	}
	return png.Decode(f)
}
